Необходимо попробовать максимально задействовать возможности фреймворка по канонам паттерна MVC.

Есть сущность "Пациент" с полями first_name, last_name, birthdate, age, age_type

Необходимо описать роутер и контроллер который:

1. принимает только поля first_name, last_name и birthdate
2. Создает сущность "Пациент" через модель Patient
4. поля age(int возраст) и age_type(char день/месяц/год) заполняются в зависимости от пришеднего в контроллер birthdate(date дата рождения). Если возраст меньше месяца, то это дни. Если меньше года, то месяцы
5. созданную и сохраненную сущность отправить в 5ти минутный кеш и в очередь

Обработчик очереди и делать не надо. БД создавать и подключать тоже. Работоспособность кода не важна, главное - способ реализации

5. запросом из роута нужно выгрузить список сущностей и также задействовать кеш (если есть и не просрочился). Выгружается полями name (конкатенация first_name + last_name), дата рождения в формате (d.m.Y) и возвраст в формате "4 день" (склонять не надо)


При выполнении ТЗ использовалось:
Laravel 9,
PHP 8.1,
VueJs 3,
Wawe UI - библиотека для фронта
MySQL

Применён паттерн Repository-Service Pattern

Развернуть проект локально:

cp .env.example .env (создаём локально БД и прописываем свои данные, указываем QUEUE_CONNECTION=database)
php artisan key:generate
composer install --ignore-platform-reqs
php artisan serve
php artisan migrate
php artisan queue:work - для запуска очередей
npm install (node version 14.19.3)
npm run dev

На главной странице отображается форма для добавления нового пациента и таблица пациентов
код находится в resources/js/components/PatientComponent.vue

Форма валидируется, выводятся ошибки
валидация выполнена в Http/Requests/AddNewPatientRequest.php

запрос на создание пациента напрвляется в контроллер Http/Controllers/PatientController.php
там два метода. Один на добавление пользователя, второе на получение списка существующих пользователей

Логика находится в Services/PatientService.php
в нём приводится тип даты к нужному формату, расчитывается тип и значение возраста, добавляются в кеш данные, вызывается Job на сохранение в БД 

Создание сущности происходит с использованием очереди Jobs/ProcessCreatePatient.php
*сделано для примера/демонстрации. В реальном проекте такая операция не требует использования очередей

также данные о новом пациенте отправляются в кеш на 5 минут (без дальнейшего использования, для примера)

Весь код работает, ошибок и предупреждений в консоли нет
